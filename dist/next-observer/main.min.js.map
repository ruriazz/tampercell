{"version":3,"file":"main.min.js","sources":["../../src/next-observer/index.ts"],"sourcesContent":[null],"names":["NextJsObserver","constructor","userConfig","this","readyCallbackExecuted","mutationCount","mutationTimer","observer","config","Object","assign","timeout","checkInterval","debug","minContentCheck","state","nextDetected","contentLoaded","scriptsLoaded","imagesLoaded","noMoreMutations","firstPaint","init","log","args","console","onNextJsReady","performance","now","toFixed","eventDetail","timestamp","Date","timing","window","dispatchEvent","CustomEvent","detail","detectNextJs","__NEXT_DATA__","nextScripts","document","querySelectorAll","length","metaGenerator","querySelector","content","includes","Array","from","scripts","some","s","src","match","checkContentLoaded","body","mainContent","totalTextLength","elementCount","forEach","el","text","_a","textContent","trim","children","checkScriptsLoaded","props","next","checkImagesLoaded","images","loadedCount","img","complete","naturalHeight","checkFirstPaint","PerformanceObserver","list","entry","getEntries","name","startTime","observe","entryTypes","e","checkIfReady","isNextDetected","isContentLoaded","isScriptsLoaded","isImagesLoaded","isFirstPaint","onMutationStable","disconnect","startObserving","MutationObserver","clearTimeout","setTimeout","documentElement","childList","subtree","attributes","characterData","checkCount","pollingInterval","setInterval","clearInterval","attachImageListeners","addEventListener","readyState","script","hasAttribute","setAttribute","debugInstance","forceCheck","forceReady","detectNext","__nextObserver","NextObserver"],"mappings":"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"}